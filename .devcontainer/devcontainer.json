{
  "$schema": "https://raw.githubusercontent.com/devcontainers/spec/main/schemas/devContainer.schema.json",
  "name": "Nopo Devcontainer",
  "image": "mcr.microsoft.com/devcontainers/javascript-node:22-bullseye",
  "updateRemoteUserUID": true,
  "workspaceFolder": "/workspaces/nopo",
  "workspaceMount": "source=${localWorkspaceFolder},target=/workspaces/nopo,type=bind",
  "containerEnv": {
    "DOCKER_PORT": "80",
    "SITE_URL": "https://${CODESPACE_NAME}-80.app.github.dev"
  },
  "features": {
    "ghcr.io/jsburckhardt/devcontainer-features/uv:1": {},
    "ghcr.io/devcontainers/features/docker-in-docker": {
      "version": "latest",
      "enableNonRootDocker": "true",
      "moby": "true"
    }
  },
  "postStartCommand": "./.devcontainer/start.sh",
  "postAttachCommand": "nopo status"
}
