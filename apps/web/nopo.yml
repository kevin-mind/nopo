name: web
description: React Router front-end for Nopo.
dockerfile: Dockerfile
static_path: build/client
infrastructure:
  cpu: "1"
  memory: "256Mi"
  port: 3000
  min_instances: 0
  max_instances: 10
  has_database: false
  run_migrations: false

commands:
  clean: rm -rf .react-router build node_modules
  compile:
    command: pnpm exec react-router build
    env:
      NODE_ENV: production
  dev: pnpm exec react-router dev --host
  start: pnpm exec react-router-serve ./build/server/index.js
  check:
    context: host
    commands:
      types: pnpm exec react-router typegen && pnpm exec tsc
  test: echo 'test'
