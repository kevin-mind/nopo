{
  "name": "multi-phase-sequential",
  "description": "Three phases executed sequentially - verifies sub-issue creation and phase advancement works",
  "job_type": "issue-iterate",
  "trigger": "issue_assigned",
  "parent_issue": {
    "title": "Multi-phase feature implementation",
    "body": "## Description\n\nA complex feature broken into three phases for testing the phased workflow automation.\n\n## Requirements\n\n- Phase 1: Setup infrastructure (mock task)\n- Phase 2: Implement core logic (mock task)\n- Phase 3: Add polish and documentation (mock task)\n\n## Acceptance Criteria\n\n- [ ] All three phases complete\n- [ ] Tests pass for each phase",
    "labels": ["triaged"],
    "project_fields": {
      "Status": "Backlog",
      "Iteration": 0,
      "Failures": 0
    }
  },
  "sub_issues": [
    {
      "title": "Setup infrastructure",
      "body": "## Description\n\nMock phase for testing automation workflow. Simulates setting up infrastructure.\n\n## Todo\n- [ ] Create mock configuration file in test-feature-{ISSUE_NUMBER}/config.ts\n- [ ] Add mock constants file in test-feature-{ISSUE_NUMBER}/constants.ts\n\nParent: #{PARENT_NUMBER}",
      "project_fields": {
        "Status": "Ready"
      }
    },
    {
      "title": "Implement core logic",
      "body": "## Description\n\nMock phase for testing automation workflow. Simulates implementing core logic.\n\n## Todo\n- [ ] Create mock implementation file in test-feature-{ISSUE_NUMBER}/logic.ts\n- [ ] Add mock helper file in test-feature-{ISSUE_NUMBER}/helpers.ts\n\nParent: #{PARENT_NUMBER}",
      "project_fields": {
        "Status": "Ready"
      }
    },
    {
      "title": "Add polish and documentation",
      "body": "## Description\n\nMock phase for testing automation workflow. Simulates adding polish and documentation.\n\n## Todo\n- [ ] Create mock README file in test-feature-{ISSUE_NUMBER}/README.md\n- [ ] Add mock index file in test-feature-{ISSUE_NUMBER}/index.ts\n\nParent: #{PARENT_NUMBER}",
      "project_fields": {
        "Status": "Ready"
      }
    }
  ],
  "expected": {
    "parent_status": "Done",
    "issue_state": "closed",
    "min_iteration": 3,
    "failures": 0,
    "all_sub_issues_closed": true,
    "sub_issues_todos_done": true,
    "sub_issues_have_merged_pr": true,
    "triage": {
      "labels": ["triaged"],
      "project_fields": {
        "Status": "Backlog"
      },
      "sub_issue_count": 3
    },
    "phases": [
      {
        "branch_pattern": "claude/issue-{N}",
        "pr_title_contains": "Setup infrastructure",
        "ci_required": true,
        "review_required": true
      },
      {
        "branch_pattern": "claude/issue-{N}",
        "pr_title_contains": "Implement core logic",
        "ci_required": true,
        "review_required": true
      },
      {
        "branch_pattern": "claude/issue-{N}",
        "pr_title_contains": "Add polish",
        "ci_required": true,
        "review_required": true
      }
    ],
    "completion": {
      "parent_status": "Done",
      "all_sub_issues_closed": true,
      "all_prs_merged": true
    }
  },
  "timeout": 900,
  "poll_interval": 15
}
