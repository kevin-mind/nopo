{
  "name": "pr-human-response",
  "description": "Human review requests changes on Claude PR - verifies Claude addresses human feedback and iterates",
  "job_type": "pr-human-response",
  "trigger": "issue_assigned",
  "parent_issue": {
    "title": "Add rate limiting to API",
    "body": "## Description\n\nImplement rate limiting to prevent abuse.\n\n## Requirements\n\n- Rate limit per IP\n- Configurable limits\n\n## Acceptance Criteria\n\n- [ ] Rate limiting works\n- [ ] Limits are configurable",
    "labels": ["triaged"],
    "project_fields": {
      "Status": "In Progress",
      "Iteration": 0,
      "Failures": 0
    }
  },
  "sub_issues": [
    {
      "title": "Implement rate limiting middleware",
      "body": "## Description\n\nCreate rate limiting middleware with configurable limits.\n\n## Todo\n- [ ] Create rate limiter in test-feature-{ISSUE_NUMBER}/rate-limit.ts\n- [ ] Make limit configurable via environment variable\n\nParent: #{PARENT_NUMBER}",
      "project_fields": {
        "Status": "Working",
        "Iteration": 1,
        "Failures": 0
      }
    }
  ],
  "branch": {
    "name": "test/pr-human-response-test",
    "from": "main",
    "link_to_sub_issue": true,
    "commits": [
      {
        "message": "feat: add rate limiting middleware",
        "files": {
          "test-feature-{SUB_ISSUE_NUMBER}/rate-limit.ts": "// Rate limiting\nconst LIMIT = 100;\nexport function checkRateLimit(ip: string): boolean {\n  // TODO: implement actual tracking\n  return true;\n}\n"
        }
      }
    ]
  },
  "pr": {
    "title": "Implement rate limiting middleware",
    "body": "Fixes #{SUB_ISSUE_NUMBER}\n\n## Summary\n\nAdds rate limiting middleware.\n\nParent: #{ISSUE_NUMBER}",
    "draft": false
  },
  "review": {
    "state": "request_changes",
    "body": "The rate limit should be configurable via environment variable, not hardcoded.",
    "reviewer": "human-reviewer"
  },
  "expected": {
    "parent_status": "Done",
    "issue_state": "closed",
    "min_iteration": 2,
    "all_sub_issues_closed": true,
    "phases": [
      {
        "pr_merged": true,
        "issue_closed": true
      }
    ]
  },
  "timeout": 900,
  "poll_interval": 15
}
