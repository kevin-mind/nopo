{
  "name": "pr-response",
  "description": "Claude review requests changes on PR - verifies Claude addresses the feedback and iterates",
  "job_type": "pr-response",
  "trigger": "issue_assigned",
  "parent_issue": {
    "title": "Add logging utility",
    "body": "## Description\n\nAdd a centralized logging utility for the application.\n\n## Requirements\n\n- Structured logging\n- Log levels\n\n## Acceptance Criteria\n\n- [ ] Logging works across app",
    "labels": ["triaged"],
    "project_fields": {
      "Status": "In Progress",
      "Iteration": 0,
      "Failures": 0
    }
  },
  "sub_issues": [
    {
      "title": "Implement logging utility",
      "body": "## Description\n\nCreate a logging utility with structured logging and log levels.\n\n## Todo\n- [ ] Create logger module in test-feature-{ISSUE_NUMBER}/logger.ts\n- [ ] Add debug and warn levels\n\nParent: #{PARENT_NUMBER}",
      "project_fields": {
        "Status": "Working",
        "Iteration": 1,
        "Failures": 0
      }
    }
  ],
  "branch": {
    "name": "test/pr-response-test",
    "from": "main",
    "link_to_sub_issue": true,
    "commits": [
      {
        "message": "feat: add logging utility",
        "files": {
          "test-feature-{SUB_ISSUE_NUMBER}/logger.ts": "// Logger utility\nexport const logger = {\n  info: (msg: string) => console.log(`[INFO] ${msg}`),\n  error: (msg: string) => console.error(`[ERROR] ${msg}`),\n};\n"
        }
      }
    ]
  },
  "pr": {
    "title": "Implement logging utility",
    "body": "Fixes #{SUB_ISSUE_NUMBER}\n\n## Summary\n\nAdds centralized logging utility.\n\nParent: #{ISSUE_NUMBER}",
    "draft": false
  },
  "review": {
    "state": "request_changes",
    "body": "The implementation needs log levels. Please add debug and warn levels."
  },
  "expected": {
    "parent_status": "Done",
    "issue_state": "closed",
    "min_iteration": 2,
    "all_sub_issues_closed": true,
    "phases": [
      {
        "pr_merged": true,
        "issue_closed": true
      }
    ]
  },
  "timeout": 900,
  "poll_interval": 15
}
