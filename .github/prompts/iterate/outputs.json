{
  "type": "object",
  "properties": {
    "status": {
      "type": "string",
      "enum": ["completed_todo", "waiting_manual", "blocked", "all_done"],
      "description": "What happened this iteration: completed_todo (finished a task), waiting_manual (manual todo needs human), blocked (cannot proceed), all_done (all todos complete)"
    },
    "todo_completed": {
      "type": "string",
      "description": "The exact text of the todo item that was completed (if status=completed_todo). Used to check off the todo in the issue."
    },
    "manual_todo": {
      "type": "string",
      "description": "The exact text of the manual todo waiting for human action (if status=waiting_manual)"
    },
    "blocked_reason": {
      "type": "string",
      "description": "Why iteration is blocked (if status=blocked)"
    },
    "agent_notes": {
      "type": "array",
      "items": { "type": "string" },
      "description": "Important discoveries or decisions for future iterations. Stored in issue history."
    }
  },
  "required": ["status", "agent_notes"]
}
