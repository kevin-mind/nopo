A user requested a plan for Discussion #{{DISCUSSION_NUMBER}}.

## Your Task

1. Fetch the full discussion content using gh api graphql

2. Search the codebase to understand current architecture and identify where changes are needed

3. Extract actionable items and create GitHub issues for each:
```bash
gh issue create \
  --title "Your Issue Title" \
  --body "Related to discussion: #{{DISCUSSION_NUMBER}}

## Context
[Context from discussion]

## Tasks
- [ ] Task 1
- [ ] Task 2" \
  --label "discussion:{{DISCUSSION_NUMBER}}"
```

## IMPORTANT: Write Summary to File

After creating issues, you MUST write a summary to /tmp/discussion-plan-summary.md:
```bash
cat > /tmp/discussion-plan-summary.md << 'PLAN_EOF'
## ðŸ“‹ Created Issues

- #123 - Issue title here
- #124 - Another issue title

Assign nopo-bot to any of these issues to have me implement them.
PLAN_EOF
```

## IMPORTANT: Update Discussion Description

You MUST also update the discussion description to reflect the plan and created issues.
Read the current description from /tmp/discussion-original-body.txt, then write an updated version to /tmp/discussion-updated-body.md.

Since this is a /plan command, update the description to include the implementation plan:
1. Preserve the original user content at the top
2. Update the "## Current State" section to include the plan

Add a "### Implementation Plan" section with links to the created issues:
```markdown
<original user content>

---

## Current State

### Summary
- Summary of the discussion findings

### Implementation Plan
The following issues have been created to implement this:
- #123 - Issue title (status)
- #124 - Another issue

### Key Findings
- Relevant findings that informed the plan

### Decisions
- Architectural decisions made

### Code References
- `path/file.ts:123` - Relevant code

### Open Questions
- Any remaining questions
```

Write this to /tmp/discussion-updated-body.md
