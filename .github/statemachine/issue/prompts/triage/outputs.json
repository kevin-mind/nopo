{
  "type": "object",
  "properties": {
    "triage": {
      "type": "object",
      "description": "Issue classification",
      "properties": {
        "type": {
          "type": "string",
          "enum": ["bug", "enhancement", "documentation", "refactor", "test", "chore"],
          "description": "The type of issue"
        },
        "priority": {
          "type": "string",
          "enum": ["none", "low", "medium", "high", "critical"],
          "description": "Priority level (use 'none' if not applicable)"
        },
        "size": {
          "type": "string",
          "enum": ["xs", "s", "m", "l", "xl"],
          "description": "Size estimate: XS (<1h), S (1-3h), M (3-8h), L (8-21h), XL (21+h)"
        },
        "estimate": {
          "type": "integer",
          "enum": [1, 2, 3, 5, 8, 13, 21],
          "description": "Fibonacci hours estimate (must match size: XS=1, S=2-3, M=5-8, L=13, XL=21)"
        },
        "topics": {
          "type": "array",
          "items": { "type": "string" },
          "description": "Topic labels (without 'topic:' prefix, max 3)"
        },
        "needs_info": {
          "type": "boolean",
          "description": "Whether the issue needs more information before work can begin"
        }
      },
      "required": ["type", "size", "estimate", "topics", "needs_info"]
    },
    "requirements": {
      "type": "array",
      "description": "Key requirements extracted from the issue",
      "items": { "type": "string" }
    },
    "initial_approach": {
      "type": "string",
      "description": "Initial thoughts on implementation approach"
    },
    "initial_questions": {
      "type": "array",
      "description": "Questions that need answers before implementation",
      "items": { "type": "string" }
    },
    "related_issues": {
      "type": "array",
      "description": "Related issue numbers to link (duplicates, related work, etc.)",
      "items": { "type": "integer" }
    },
    "agent_notes": {
      "type": "array",
      "description": "Important discoveries or decisions to pass to future agents",
      "items": { "type": "string" }
    }
  },
  "required": ["triage", "requirements", "initial_approach"]
}
